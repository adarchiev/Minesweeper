{"version":3,"sources":["pics/background.png","components/Cell.js","pics/bomb.png","pics/flag.png","actions/gameActions.js","actions/flagBomb.js","components/Board.js","components/GameConsole.js","actions/newGame.js","components/App.js","classes/Cell.js","classes/Board.js","reducers/boarder.js","store/store.js","index.js"],"names":["CustomTD","styled","td","CustomDIV","div","Cell","props","dispatch","useDispatch","cell","useSelector","state","board","squares","pos","isDiscovered","pic","marked","picUrl","background","val","value","cellVal","console","log","onClick","type","payload","discovered","gameActions","onContextMenu","flagBomb","style","id","Board","border","className","map","bx","xind","by","yind","GameConsole","size","bombs","name","onChange","e","target","split","resetGame","App","margin","x","y","this","position","limitX","limitY","around","i","j","push","numDiscovered","getAround","forEach","sqPos","discover","numBombs","Object","assign","create","getPrototypeOf","createEmptySquares","ix","rows","iy","bombsTmp","assigned","parseInt","Math","random","sq","b","length","square","clone","alert","defaultState","store","createStore","action","putBombs","openBoard","checkWin","toggleMarkFlagOrDoubt","window","__REDUX_DEVTOOLS_EXTENSION__","ReactDOM","render","document","getElementById"],"mappings":"2KAAe,+Q,oVCUf,IAAMA,EAAWC,IAAOC,GAAV,KAORC,EAAYF,IAAOG,IAAV,KA0CAC,MAlCf,SAAcC,GAEZ,IAAMC,EAAWC,cAEXC,EAAOC,aAAY,SAAAC,GAAK,OAAIA,EAAMC,MAAMC,QAAQP,EAAMQ,IAAI,IAAIR,EAAMQ,IAAI,OACjEC,GAAwBN,EAA7BO,IAA6BP,EAAxBM,cAAcE,EAAUR,EAAVQ,OAEvBC,EAASC,EACPC,EAAMd,EAAMe,MAAMA,MACpBC,EAAU,GAgBd,OAfGP,GACDQ,QAAQC,IAAI,QACD,IAARJ,EACDF,ECtCS,6nFDuCAE,EAAM,GAAKA,EAAM,GAC1BE,EAAUF,EACVF,EAAS,IACM,IAARE,IACPF,EAAS,KAEJD,IACPM,QAAQC,IAAI,KACZN,EE/CW,8dFmDX,cAAClB,EAAD,CAAUyB,QAAY,kBAAMlB,EGnDL,iBACzB,CACEmB,KAAM,YACNC,QAAS,CAAEC,WAHY,uDAAO,CAAC,EAAE,KHmDIC,CAAYvB,EAAMQ,OAAQgB,cAAgB,WAAOvB,EInDlE,iBACtB,CACEmB,KAAM,YACNC,QAAS,CAAEC,WAHS,uDAAO,CAAC,EAAE,KJmDiEG,CAASzB,EAAMQ,OAASkB,MAAQ,CAACb,WAAW,OAAD,OAASD,EAAT,MAAqBG,MAAOD,EAAKa,GAAI3B,EAAMQ,IAArL,SACE,cAACX,EAAD,UACCmB,OK7BQY,MApBf,WACE,IAAMrB,EAAUH,aAAY,SAAAC,GAAK,OAAoB,OAAhBA,EAAMC,MAAiBD,EAAMC,MAAMC,QAAU,MAClF,OACE,uBAAOsB,OAAO,IAAIC,UAAU,QAA5B,SACE,gCAEIvB,EAAQwB,KAAI,SAACC,EAAIC,GAAL,OACT,6BAEGD,EAAGD,KAAI,SAACG,EAAIC,GAAL,OACL,cAAC,EAAD,CAAsB3B,IAAK,CAACyB,EAAME,GAAOpB,MAAOmB,GAArCD,EAAKE,OAHZF,WCaPG,MAnBf,WACE,IAAMnC,EAAWC,cAEbmC,EAAO,EACPC,EAAQ,EACZ,OACE,gCACE,yBAAQC,KAAK,QAAQC,SAAa,SAACC,GAAQJ,EAAMI,EAAEC,OAAO3B,MAAM4B,MAAM,KAAK,GAAIL,EAAOG,EAAEC,OAAO3B,MAAM4B,MAAM,KAAK,IAAhH,UACA,wBAAQ5B,MAAO,CAAC,EAAE,GAAlB,kBACE,wBAAQA,MAAO,CAAC,GAAI,IAApB,oBACA,wBAAQA,MAAO,CAAC,GAAI,KAApB,qBAEF,wBAAQI,QAAY,kBAAMlB,ECjBP,SAACoC,EAAMC,GAAP,MACvB,CACElB,KAAM,WACNC,QAAS,CAAEgB,KAAMA,EAAMC,MAAOA,IDcOM,CAAUP,EAAMC,KAAnD,yBEESO,MAff,WAEE,OACE,8BACE,iCACE,sBAAKnB,MAAO,CAACoB,OAAQ,UAArB,UACE,cAAC,EAAD,IACA,cAAC,EAAD,Y,4BCVW/C,E,WAEnB,WAAYgD,EAAGC,GAAI,oBACjBC,KAAKC,SAAW,CAACH,EAAGC,GACpBC,KAAKlC,MAAQ,EACbkC,KAAKxC,cAAe,EACpBwC,KAAKtC,QAAS,EACdsC,KAAKvC,IAAMG,E,sDAGHsC,EAAQC,GAMhB,IALA,IAAIC,EAAS,GAETN,EAAIE,KAAKC,SAAS,GAClBF,EAAIC,KAAKC,SAAS,GAEbI,EAAY,IAANP,EAAWA,EAAIA,EAAI,EAAIO,IAAMP,IAAMI,EAAS,EAAIJ,EAAIA,EAAI,GAAIO,IACzE,IAAK,IAAIC,EAAY,IAANP,EAAWA,EAAIA,EAAI,EAAIO,IAAMP,IAAMI,EAAS,EAAIJ,EAAIA,EAAI,GAAIO,IACzEF,EAAOG,KAAK,CAACF,EAAGC,IAEpB,OAAOF,I,+BAGA/C,GACP,IAAK2C,KAAKxC,aAAc,CAGtB,GAFAwC,KAAKxC,cAAe,EACpBH,EAAMmD,gBACa,IAAfR,KAAKlC,MACMkC,KAAKS,UAAUpD,EAAM+B,KAAM/B,EAAM+B,MACvCsB,SAAQ,SAAAC,GACb,OAAOtD,EAAMC,QAAQqD,EAAM,IAAIA,EAAM,IAAIC,SAASvD,MAGtD,GAAIA,EAAMmD,gBAAmBnD,EAAM+B,KAAO/B,EAAM+B,KAAQ/B,EAAMwD,SAC5D,OAAO,EAGX,OAAO,I,8CAIPb,KAAKtC,QAAUsC,KAAKtC,S,8BAIpB,OAAOoD,OAAOC,OAAOD,OAAOE,OAAOF,OAAOG,eAAejB,OAAQA,U,KC5CrE,SAASkB,EAAmBpB,EAAGC,GAI7B,IAFA,IAAIzC,EAAU,GAEL6D,EAAK,EAAGA,EAAKrB,EAAGqB,IAAM,CAG7B,IAFA,IAAIC,EAAO,GAEFC,EAAK,EAAGA,EAAKtB,EAAGsB,IACvBD,EAAKC,GAAM,IAAIvE,EAAKqE,EAAIE,GAE1B/D,EAAQ6D,GAAMC,EAEhB,OAAO9D,E,IAGYqB,E,WAEnB,WAAYS,EAAMyB,GAA8C,IAApCvD,EAAmC,uDAAzB,KAAMkD,EAAmB,uDAAH,EAAG,oBAC7DR,KAAKZ,KAAOA,EACZY,KAAKa,SAAWA,EAEhBb,KAAK1C,QAAWA,GAAW4D,EAAmB9B,EAAMA,GACpDY,KAAKQ,cAAgBA,E,uDAOrB,IAJU,IAAD,OACLc,EAAW,GAGNjB,EAAI,EAAGA,EAAIL,KAAKa,SAAUR,IAGjC,IAFA,IAAIkB,GAAW,GAEPA,GAAU,CAChB,IAAIzB,EAAI0B,SAASC,KAAKC,SAAW1B,KAAKZ,KAAM,IACxCW,EAAIyB,SAASC,KAAKC,SAAW1B,KAAKZ,KAAM,IACxCuC,EAAK3B,KAAK1C,QAAQwC,GAAGC,GACR,IAAb4B,EAAG7D,QACL6D,EAAG7D,MAAQ,EACXwD,EAASf,KAAKoB,GACdJ,GAAW,GAKjBD,EAASZ,SAAQ,SAAAkB,GAGf,IAFA,IAAIxB,EAASwB,EAAEnB,UAAU,EAAKrB,KAAM,EAAKA,MAEhCiB,EAAI,EAAGA,EAAID,EAAOyB,OAAQxB,IAAK,CACtC,IAAIyB,EAAS,EAAKxE,QAAQ8C,EAAOC,GAAG,IAAID,EAAOC,GAAG,IAE7B,IAAjByB,EAAOhE,OACTgE,EAAOhE,c,kCAMbE,QAAQC,IAAI,QACZ,IAAK,IAAIkD,EAAK,EAAGA,EAAKnB,KAAKZ,KAAM+B,IAC/B,IAAK,IAAIE,EAAK,EAAGA,EAAKrB,KAAKZ,KAAMiC,IAC/BrB,KAAK1C,QAAQ6D,GAAIE,GAAI7D,cAAe,I,8BAMxC,IADA,IAAIF,EAAU,GACL6D,EAAK,EAAGA,EAAKnB,KAAKZ,KAAM+B,IAAM,CAGrC,IAFA,IAAIC,EAAO,GAEFC,EAAK,EAAGA,EAAKrB,KAAKZ,KAAMiC,IAC/BD,EAAKC,GAAMrB,KAAK1C,QAAQ6D,GAAIE,GAAIU,QAElCzE,EAAQ6D,GAAMC,EAEhB,OAAO,IAAIzC,EAAMqB,KAAKZ,KAAMY,KAAKa,SAAUvD,EAAS0C,KAAKQ,iB,iCAIzDxC,QAAQC,IAAI,OAAQ+B,KAAKa,SAAUb,KAAKQ,eACpCR,KAAKZ,KAAOY,KAAKZ,KAAOY,KAAKQ,gBAAkBR,KAAKa,UACtDmB,MAAM,e,KChFRC,EAAe,CAClB5E,MAAO,MCKO6E,EALDC,aDGC,WAAmC,IAAlC/E,EAAiC,uDAAzB6E,EAAcG,EAAW,uCAC5C/E,EAAQ,KACRyE,EAAS,KAEb,OAAQM,EAAOjE,MACd,IAAK,WAGJ,OAFAd,EAAQ,IAAIsB,EAAMyD,EAAOhE,QAAQgB,KAAMgD,EAAOhE,QAAQiB,QAChDgD,WACC,2BAAIjF,GAAX,IAAkBC,MAAOA,IAE1B,IAAK,YACJA,EAAQD,EAAMC,MAAM0E,QACpB,IAAIxE,EAAM6E,EAAOhE,QAAQC,WAEzB,OAAqB,KADrByD,EAASzE,EAAMC,QAAQC,EAAI,IAAIA,EAAI,KACxBO,OACVgE,EAAOtE,cAAe,EACtBwE,MAAM,aACN3E,EAAMiF,YACC,2BAAKlF,GAAZ,IAAqBC,MAAOA,MAE7ByE,EAAOlB,SAASvD,GAChBA,EAAMkF,WACC,2BAAKnF,GAAZ,IAAmBC,MAAOA,KAE3B,IAAK,YAKJ,OAHAyE,GADAzE,EAAQD,EAAMC,MAAM0E,SACLzE,QAAQ8E,EAAOhE,QAAQC,WAAW,IAAI+D,EAAOhE,QAAQC,WAAW,KACxEmE,wBACPnF,EAAMkF,WACC,2BAAKnF,GAAZ,IAAmBC,MAAOA,IAE3B,QAAS,OAAOD,KChCdqF,OAAOC,8BAAgCD,OAAOC,gCCElDC,IAASC,OACP,cAAC,IAAD,CAAUV,MAAQA,EAAlB,SACE,cAAC,EAAD,MAEAW,SAASC,eAAe,W","file":"static/js/main.96d5e6cb.chunk.js","sourcesContent":["export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcCAYAAAByDd+UAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4gkeDikH+jJ1tgAAAFVJREFUSMftlLENACAMw0DiXK7jI3YWDmjKDSweAn3ASlun9rGzgNOE4t4AwsSWD9wwzRPm1+I3zS1wrgonDLraaKBC7lrwN5R5Qtl/Ke+h7MWHV3oAnahI05QVd5EAAAAASUVORK5CYII=\"","import React from 'react';\nimport styled from \"styled-components\";\nimport {gameActions} from '../actions/gameActions';\nimport {flagBomb} from '../actions/flagBomb';\nimport background from '../pics/background.png' \nimport bomb from '../pics/bomb.png' \nimport flag from '../pics/flag.png' \nimport {useSelector, useDispatch }from 'react-redux';\n\n\nconst CustomTD = styled.td`\n  border: 1px solid black; \n  width:28px;\n  line-height:28px;\n  height:28px;\n`;\n\nconst CustomDIV = styled.div`\n  font-family: Arial, Helvetica, sans-serif;\n  font-size: 10px;\n  text-align: center;\n  background-color:BADA55;\n`;\n\n\nfunction Cell(props) {\n  \n  const dispatch = useDispatch();\n\n  const cell = useSelector(state => state.board.squares[props.pos[0]][props.pos[1]]);\n  const { pic, isDiscovered ,marked} = cell;\n\n  let picUrl = background;\n  const val = props.value.value;\n  let cellVal = '';\n  if(isDiscovered) {\n    console.log('here')\n    if(val === 9) {\n      picUrl = bomb;\n    } else if( val < 9 && val > 0) {\n      cellVal = val;\n      picUrl = '';\n    }else if(val === 0){\n      picUrl = '';\n    } \n  }else if(marked){\n    console.log(444)\n    picUrl = flag;\n  }\n\n  return (\n    <CustomTD onClick = { () => dispatch(gameActions(props.pos)) } onContextMenu={ () => {dispatch(flagBomb(props.pos))} } style ={{background: `url(${picUrl})`}} value={val} id={props.pos}>\n      <CustomDIV >\n      {cellVal}\n      </CustomDIV>\n    </CustomTD>\n  );\n}\n\nexport default Cell;\n","export default \"data:image/png;base64,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\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAA3XAAAN1wFCKJt4AAAAB3RJTUUH4QkbEhMk2YoCNQAAAN9JREFUWMPtlL0OAUEURs8sEZGsBIVW/IVKLV5At41CZZ5A4VW8wT6ChFqjodMpRFYodIJEIfHTbG2HrAi5J5nu5ubMvfMNCIJgxgg4AJlvCdz90w67cdSwrpuNJ/o73Tutd9sicAWqQA2oAAUgCZyBFTAHxrmBOwtqrAwFOmU75U6bLQ6XyysXTOcG7v5ZgWW6AvXehG9BBda3X7cI/I6AUuojAqb/gNqcj9uYFZkAeT++J2AJDP3cA5SAJtAA6mFOuAMsADxHW56jAxt7jrY9R6vQBSQFIiACfycgCMIDgjMttbCLawIAAAAASUVORK5CYII=\"","export const gameActions = (arr = [0,0]) => (\n  {\n    type: 'OPEN_CELL',\n    payload: { discovered:  arr }\n  }\n)","export const flagBomb = (arr = [0,0]) => (\n  {\n    type: 'FLAG_BOMB',\n    payload: { discovered: arr }\n  }\n)","import React from 'react';\nimport {useSelector }from 'react-redux';\nimport Cell from './Cell';\n\nfunction  Board() {\n  const squares = useSelector(state => state.board !== null ? state.board.squares : []);\n  return (\n    <table border=\"0\" className=\"board\" >\n      <tbody>\n        {\n          squares.map((bx, xind) =>\n            (<tr key={xind}>\n              {\n                bx.map((by, yind) => (\n                  <Cell key={xind+yind} pos={[xind, yind]} value={by}/>\n                ))\n              }\n            </tr>))\n        }\n      </tbody>\n    </table>\n  );\n}\n\nexport default Board;\n","import React from 'react';\nimport {useDispatch }from 'react-redux';\nimport {resetGame} from '../actions/newGame';\n\n\nfunction GameConsole() {\n  const dispatch = useDispatch();\n\n  let size = 5;\n  let bombs = 3;\n  return (\n    <div>\n      <select name=\"level\" onChange = { (e) => { size =e.target.value.split(',')[0]; bombs =e.target.value.split(',')[1] } }>\n      <option value={[5,3]}  >easy</option>\n        <option value={[10, 25]} >medium</option>\n        <option value={[20, 150]} >hard</option>\n      </select>\n      <button onClick = { () => dispatch(resetGame(size, bombs) ) }>\n        Restart\n      </button>\n    </div>\n  );\n}\n\nexport default GameConsole;\n","export const resetGame = (size, bombs) => (\n  {\n    type: 'NEW_GAME',\n    payload: { size: size, bombs: bombs }\n  }\n)\n","import React from 'react';\nimport Board from './Board';\nimport GameConsole from './GameConsole';\n\nfunction App() {\n\n  return (\n    <div >\n      <header>\n        <div style={{margin: \"0 auto\"}}>\n          <GameConsole />\n          <Board />\n        </div>\n\n      </header>\n    </div>\n  );\n}\n\nexport default App;\n","import background from '../pics/background.png';\nexport default class Cell {\n\n  constructor(x, y) {\n    this.position = [x, y];\n    this.value = 0;\n    this.isDiscovered = false;\n    this.marked = false;\n    this.pic = background;\n  }\n\n  getAround(limitX, limitY) {\n    let around = [];\n\n    let x = this.position[0];\n    let y = this.position[1];\n\n    for (let i = ((x === 0) ? x : x - 1); i <= (x === limitX - 1 ? x : x + 1); i++)\n      for (let j = ((y === 0) ? y : y - 1); j <= (y === limitY - 1 ? y : y + 1); j++)\n        around.push([i, j]);\n\n    return around;\n  }\n\n  discover(board) {\n    if (!this.isDiscovered) {\n      this.isDiscovered = true;\n      board.numDiscovered++;\n      if (this.value === 0) {\n        let around = this.getAround(board.size, board.size);\n        around.forEach(sqPos => {\n          return board.squares[sqPos[0]][sqPos[1]].discover(board);\n        });\n      }\n      if (board.numDiscovered === (board.size * board.size) - board.numBombs)\n        return true;\n    }\n\n    return false;\n  }\n\n  toggleMarkFlagOrDoubt() {\n    this.marked = !this.marked;\n  }\n\n  clone() {\n    return Object.assign(Object.create(Object.getPrototypeOf(this)), this);\n  }\n}","import Cell from './Cell';\n\nfunction createEmptySquares(x, y) {\n\n  let squares = [];\n\n  for (let ix = 0; ix < x; ix++) {\n    let rows = [];\n\n    for (let iy = 0; iy < y; iy++)\n      rows[iy] = new Cell(ix, iy);\n\n    squares[ix] = rows;\n  }\n  return squares;\n};\n\nexport default class Board {\n\n  constructor(size, numBombs, squares = null, numDiscovered = 0) {\n    this.size = size;\n    this.numBombs = numBombs;\n\n    this.squares = (squares || createEmptySquares(size, size));\n    this.numDiscovered = numDiscovered;\n  }\n\n  putBombs() {\n    let bombsTmp = [];\n\n    // Put bombs\n    for (let i = 0; i < this.numBombs; i++) {\n      let assigned = false;\n\n      while (!assigned) {\n        let x = parseInt(Math.random() * this.size, 10);\n        let y = parseInt(Math.random() * this.size, 10);\n        let sq = this.squares[x][y];\n        if (sq.value !== 9) {\n          sq.value = 9;\n          bombsTmp.push(sq);\n          assigned = true;\n        }\n      }\n    }\n    // Put numbers around\n    bombsTmp.forEach(b => {\n      let around = b.getAround(this.size, this.size);\n\n      for (let i = 0; i < around.length; i++) {\n        let square = this.squares[around[i][0]][around[i][1]];\n\n        if (square.value !== 9)\n          square.value++;\n      }\n    });\n  };\n\n  openBoard() {\n    console.log(\"open\");\n    for (let ix = 0; ix < this.size; ix++) {\n      for (let iy = 0; iy < this.size; iy++)\n        this.squares[ix][iy].isDiscovered = true;\n    }\n\n  }\n  clone() {\n    let squares = [];\n    for (let ix = 0; ix < this.size; ix++) {\n      let rows = [];\n\n      for (let iy = 0; iy < this.size; iy++)\n        rows[iy] = this.squares[ix][iy].clone();\n\n      squares[ix] = rows;\n    }\n    return new Board(this.size, this.numBombs, squares, this.numDiscovered);\n  }\n\n  checkWin() {\n    console.log(\"open\", this.numBombs, this.numDiscovered);\n    if (this.size * this.size - this.numDiscovered === this.numBombs) {\n      alert(\"YOU WIN\");\n    }\n  }\n}","import Board from '../classes/Board';\n\nlet defaultState = {\n\tboard: null,\n}\n\nexport default (state = defaultState, action) => {\n\tlet board = null;\n\tlet square = null;\n\n\tswitch (action.type) {\n\t\tcase 'NEW_GAME':\n\t\t\tboard = new Board(action.payload.size, action.payload.bombs);\n\t\t\tboard.putBombs();\n\t\t\treturn {...state, board: board };\n\n\t\tcase 'OPEN_CELL':\n\t\t\tboard = state.board.clone();\n\t\t\tlet pos = action.payload.discovered;\n\t\t\tsquare = board.squares[pos[0]][pos[1]];\n\t\t\tif (square.value === 9) {\n\t\t\t\tsquare.isDiscovered = true;\n\t\t\t\talert(\"You loose\");\n\t\t\t\tboard.openBoard();\n\t\t\t\treturn { ...state,   board: board };\n\t\t\t}\n\t\t\tsquare.discover(board);\n\t\t\tboard.checkWin();\n\t\t\treturn { ...state, board: board };\n\n\t\tcase 'FLAG_BOMB':\n\t\t\tboard = state.board.clone();\n\t\t\tsquare = board.squares[action.payload.discovered[0]][action.payload.discovered[1]];\n\t\t\tsquare.toggleMarkFlagOrDoubt();\n\t\t\tboard.checkWin();\n\t\t\treturn { ...state, board: board };\n\t\t\t\n\t\tdefault: return state\n\t}\n}","import { createStore, applyMiddleware } from 'redux';\nimport reducers from '../reducers/boarder';\n\nconst store = createStore(\n    reducers,\n    window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__()\n);\n\nexport default store;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App';\nimport store from './store/store';\nimport {Provider} from 'react-redux';\n\n\nReactDOM.render(\n  <Provider store ={store}>\n    <App />\n  </Provider>\n  , document.getElementById('root')\n);\n\n"],"sourceRoot":""}